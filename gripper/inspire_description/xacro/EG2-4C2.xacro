<?xml version="1.0" encoding="utf-8"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:macro name="Gripper" params="name">
    <xacro:property name="prefix" value="${name + '_' if name else ''}"/>
    <xacro:property name="PI" value="3.1415926535897931"/>
    <link name="${prefix}gripper_base">
      <inertial>
        <origin xyz="1.5645E-05 -4.1838E-06 0.038"/>
        <mass value="0.072633"/>
        <inertia
            ixx="5.095E-05"
            ixy="-7.3167E-13"
            ixz="2.0229E-08"
            iyy="6.0883E-05"
            iyz="-4.5583E-09"
            izz="1.933E-05"/>
      </inertial>
      <visual>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/baselink.obj"/>
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/baselink.obj"/>
        </geometry>
      </collision>
    </link>
    
    <link name="${prefix}left_outer_link">
      <inertial>
        <origin xyz="0.0087669 0.009 0.013992" />
        <mass value="0.0024292"/>
        <inertia
            ixx="5.1061E-07"
            ixy="-8.6739E-19"
            ixz="-2.508E-07"
            iyy="5.7398E-07"
            iyz="-1.3667E-18"
            izz="2.6747E-07"/>
      </inertial>
      <visual>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/outer_link.obj"/>
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/outer_link.obj"/>
        </geometry>
      </collision>
    </link>
    
    <joint name="${prefix}gripper_joint" type="revolute">
      <origin xyz="-0.04 -0.009 0.079"/>
      <parent link="${prefix}gripper_base"/>
      <child link="${prefix}left_outer_link"/>
      <axis xyz="0 -1 0"/>
      <limit lower="0" upper="0.82" effort="50" velocity="${PI}"/>
    </joint>
    
    <link name="${prefix}left_inner_link">
      <inertial>
        <origin xyz="0.0087435 0.009 0.013955" />
        <mass value="0.0038971"/>
        <inertia
            ixx="5.6941E-07"
            ixy="-1.0711E-18"
            ixz="-2.6891E-07"
            iyy="6.2305E-07"
            iyz="-1.6845E-18"
            izz="3.0871E-07"/>
      </inertial>
      <visual>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/inner_link.obj"/>
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/inner_link.obj"/>
        </geometry>
      </collision>
    </link>
    
    <joint name="${prefix}left_inner_joint" type="revolute">
      <origin xyz="-0.03 -0.009 0.081" />
      <parent link="${prefix}gripper_base"/>
      <child link="${prefix}left_inner_link"/>
      <axis xyz="0 -1 0"/>
      <limit lower="0" upper="0.82" effort="50" velocity="${PI}"/>
      <mimic joint="${prefix}gripper_joint"/>
    </joint>
    
    <link name="${prefix}right_inner_link">
      <inertial>
        <origin xyz="-0.0087435 0.009 0.013955" />
        <mass value="0.0038971"/>
        <inertia
            ixx="5.6941E-07"
            ixy="1.0666E-18"
            ixz="2.6891E-07"
            iyy="6.2305E-07"
            iyz="-1.8084E-18"
            izz="3.0871E-07"/>
      </inertial>
      <visual>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/inner_link.obj" scale="-1 1 1"/>
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/inner_link.obj" scale="-1 1 1"/>
        </geometry>
      </collision>
    </link>
    
    <joint name="${prefix}right_inner_joint" type="revolute">
      <origin xyz="0.03 -0.009 0.081" />
      <parent link="${prefix}gripper_base"/>
      <child link="${prefix}right_inner_link"/>
      <axis xyz="0 1 0"/>
      <limit lower="0" upper="0.82" effort="50" velocity="${PI}"/>
      <mimic joint="${prefix}gripper_joint" multiplier="1" offset="0"/>
    </joint>
    
    <link name="${prefix}right_outer_link">
      <inertial>
        <origin xyz="-0.0087669 0.009 0.013992" />
        <mass value="0.0024292"/>
        <inertia
            ixx="5.1061E-07"
            ixy="-9.5279E-19"
            ixz="2.508E-07"
            iyy="5.7398E-07"
            iyz="7.6863E-19"
            izz="2.6747E-07"/>
      </inertial>
      <visual>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/outer_link.obj" scale="-1 1 1"/>
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/outer_link.obj" scale="-1 1 1"/>
        </geometry>
      </collision>
    </link>
    
    <joint name="${prefix}right_outer_joint" type="revolute">
      <origin xyz="0.04 -0.009 0.079" />
      <parent link="${prefix}gripper_base"/>
      <child link="${prefix}right_outer_link"/>
      <axis xyz="0 1 0"/>
      <limit lower="0" upper="0.82" effort="50" velocity="${PI}"/>
      <mimic joint="${prefix}gripper_joint" multiplier="1" offset="0"/>
    </joint>
    
    <link name="${prefix}left_pad">
      <inertial>
        <origin xyz="0.011864 0.006 0.011367" />
        <mass value="0.0045068"/>
        <inertia
            ixx="5.1288E-07"
            ixy="-9.8137E-14"
            ixz="-9.4703E-08"
            iyy="5.3203E-07"
            iyz="-6.212E-14"
            izz="2.009E-07"/>
      </inertial>
      <visual>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/pad.obj"/>
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/pad.obj"/>
        </geometry>
      </collision>
    </link>
    
    <joint name="${prefix}left_pad_joint" type="revolute">
      <origin xyz="0.0223 0.003 0.035591" />
      <parent link="${prefix}left_outer_link"/>
      <child link="${prefix}left_pad"/>
      <axis xyz="0 1 0"/>
      <limit lower="0" upper="0.82" effort="50" velocity="${PI}"/>
      <mimic joint="${prefix}gripper_joint" multiplier="1" offset="0"/>
    </joint>
    
    <link name="${prefix}right_pad">
      <inertial>
        <origin xyz="-0.011864 0.006 0.011367" />
        <mass value="0.0045068"/>
        <inertia
            ixx="5.1288E-07"
            ixy="-9.8137E-14"
            ixz="9.4703E-08"
            iyy="5.3203E-07"
            iyz="6.2119E-14"
            izz="2.009E-07"/>
      </inertial>
      <visual>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/pad.obj" scale="-1 1 1"/>
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="file://$(find inspire_description)/meshes/EG2-4C2/pad.obj"  scale="-1 1 1"/>
        </geometry>
      </collision>
    </link>
    
    <joint name="${prefix}right_pad_joint" type="revolute">
      <origin xyz="-0.0223 0.003 0.035591"/>
      <parent link="${prefix}right_outer_link"/>
      <child link="${prefix}right_pad"/>
      <axis xyz="0 -1 0"/>
      <limit lower="0" upper="0.82" effort="50" velocity="${PI}"/>
      <mimic joint="${prefix}gripper_joint" multiplier="1" offset="0"/>
    </joint>
    
  </xacro:macro>
</robot>
